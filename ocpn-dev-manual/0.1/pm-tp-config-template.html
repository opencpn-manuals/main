<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configure Testplugin Template :: OpenCPN</title>
    <link rel="canonical" href="https://opencpn-manuals.github.io/main/ocpn-dev-manual/0.1/pm-tp-config-template.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="ocpn-logo"> </div>
    <div class="navbar-brand">
      <a class="navbar-item" href="https://opencpn-manuals.github.io/main">OpenCPN</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
              <a class="navbar-item" href="https://www.opencpn.org/">
                OpenCPN.org
              </a>
              <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
                Github Site
              </a>
              <a class="navbar-item" href="https://opencpn.org/flyspray/">
                Bugtracker
              </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ocpn-dev-manual" data-version="0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">OpenCPN Developer Manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-AboutThisManual.html">About this Manual</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Background.html">Background</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Community.html">Community</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Terminology.html">Terminology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../opencpn-dev/index.html">Opencpn development</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin Development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin-devel-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-plugin-dependencies.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-plugin-api-versions.html">Plugin API and ABI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-deployment.html">Deployment overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-workflow.html">Workflow overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin-compat.html">Compatibility and tweaks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dm-i18n.html">Translations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin-Pi-Adaptation.html">Plugin Installer Code Adaptation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-tp-template.html">Testplugin Template</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-overview-prereq-workflow.html">Workflow Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-overview-prereq-services.html">Prerequisite Services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-overview-prereq-other.html">Cloudsmith Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="pm-tp-system-structure.html">System Structure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-dev-setup.html">Developer Setup</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="pm-tp-config-template.html">Configure Template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">Build Locally</span>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-adapt-plugin.html">Adapt Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-deploy.html">Deploy Details</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pi_installer_dev_procedure.html">PI Manager Dev Procedure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-update-library.html">Update the Library</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-language-nuance.html">Language Nuances</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../opencpn-dev/odraw-messaging.html">Odapi Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-odapi.html">Odapi for oDraw</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-ocpn_draw_odapi.html">Ocpn_Draw Odapi</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AlternativeWorkflow/index.html">Shipdriver Template</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../plugin-installer/Home.html">Plugin Manager Installer Documentation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://opencpn-manuals.github.io/main/opencpn-plugins/index.html">Plugins  Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-legacy-plugins.html">Legacy Plugin Packaging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-manual-maint.html">Maintenance of this Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-i18n.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-prebuilt-build-files.html">Prebuilt Build Files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-online-tools.html">Online Nmea Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ECDIS_testdata.html">ECDIS testdata</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compile_mac_osx.html">Compiling on macOS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rpi2.html">Compile on Raspberry PI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building-on-armhf-linux-armbian-orange-pi.html">armhf linux - Armbian - Orange Pi</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenCPN Developer Manual</span>
    <span class="version">0.1</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../admiralty/index.html">Admiralty Tide Tables</a>
    </li>
    <li class="component">
      <a class="title" href="../../rtlsdr/index.html">AIS RTLsdr USB</a>
    </li>
    <li class="component">
      <a class="title" href="../../ais-vd/0.1/index.html">AIS-vd</a>
    </li>
    <li class="component">
      <a class="title" href="../../aisradar/index.html">AISradar</a>
    </li>
    <li class="component">
      <a class="title" href="../../autopilot-rm/0.1/index.html">Autopilot Raymarine</a>
    </li>
    <li class="component">
      <a class="title" href="../../autopilot_route/index.html">Autopilot Route</a>
    </li>
    <li class="component">
      <a class="title" href="../../autotrackraymarine/index.html">AutoTrackRaymarine Evo</a>
    </li>
    <li class="component">
      <a class="title" href="../../calculator/index.html">Calculator</a>
    </li>
    <li class="component">
      <a class="title" href="../../celestial_navigation/index.html">Celestial Navigation</a>
    </li>
    <li class="component">
      <a class="title" href="../../chartdldr/index.html">Chart Downloader Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../../chartscale/index.html">ChartScale</a>
    </li>
    <li class="component">
      <a class="title" href="../../climatology/index.html">Climatology</a>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard/index.html">Dashboard</a>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard_tactics/index.html">Dashboard Tactics</a>
    </li>
    <li class="component">
      <a class="title" href="../../dashboardsk/index.html">DashboardSK</a>
    </li>
    <li class="component">
      <a class="title" href="../../debugger/0.1/index.html">Debugger</a>
    </li>
    <li class="component">
      <a class="title" href="../../deviation/index.html">Deviation</a>
    </li>
    <li class="component">
      <a class="title" href="../../dead_reckoning/index.html">DR</a>
    </li>
    <li class="component">
      <a class="title" href="../../e_timer/index.html">e_timer</a>
    </li>
    <li class="component">
      <a class="title" href="../../earthexplorer/index.html">EarthExplorer</a>
    </li>
    <li class="component">
      <a class="title" href="../../engine-dash/0.1/index.html">EngineDashboard</a>
    </li>
    <li class="component">
      <a class="title" href="../../findit/index.html">FindIt</a>
    </li>
    <li class="component">
      <a class="title" href="../../frcurrents/index.html">frcurrents</a>
    </li>
    <li class="component">
      <a class="title" href="../../gps-odometer/index.html">GPS-Odometer</a>
    </li>
    <li class="component">
      <a class="title" href="../../route/index.html">Great Circle Route</a>
    </li>
    <li class="component">
      <a class="title" href="../../grib/index.html">Grib Weather Data Plugin</a>
    </li>
    <li class="component">
      <a class="title" href="../../javascript/index.html">Javascript Plugin Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../../radarhub_pi/index.html">KAHU Radar Hub</a>
    </li>
    <li class="component">
      <a class="title" href="../../launcher/0.1/index.html">Launcher</a>
    </li>
    <li class="component">
      <a class="title" href="../../logbook/index.html">Logbook</a>
    </li>
    <li class="component">
      <a class="title" href="../../ncdf/index.html">NCDF Tidal Currents</a>
    </li>
    <li class="component">
      <a class="title" href="../../nmea_converter/index.html">NMEA Converter</a>
    </li>
    <li class="component">
      <a class="title" href="../../nsk/index.html">NSK</a>
    </li>
    <li class="component">
      <a class="title" href="../../nv_charts/index.html">nv_charts</a>
    </li>
    <li class="component">
      <a class="title" href="../../o-charts/index.html">o-charts</a>
    </li>
    <li class="component">
      <a class="title" href="../../objsearch/0.1/index.html">ObjSearch</a>
    </li>
    <li class="component">
      <a class="title" href="../../odraw/index.html">Ocpn_Draw</a>
    </li>
    <li class="component">
      <a class="title" href="../../oesenc/0.1/index.html">oesenc</a>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">OpenCPN Developer Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../../manuals/index.html">OpenCPN Manuals</a>
    </li>
    <li class="component">
      <a class="title" href="../../opencpn-plugins/index.html">OpenCPN Plugins</a>
    </li>
    <li class="component">
      <a class="title" href="../../opencpn-dev/index.html">OpenCPN Programming Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../../otcurrent/index.html">oTcurrent</a>
    </li>
    <li class="component">
      <a class="title" href="../../otidalplan/index.html">oTidalPlan</a>
    </li>
    <li class="component">
      <a class="title" href="../../otidalroute/index.html">oTidalRoute</a>
    </li>
    <li class="component">
      <a class="title" href="../../photolayer/index.html">PhotoLayer</a>
    </li>
    <li class="component">
      <a class="title" href="../../plots/index.html">Plots</a>
    </li>
    <li class="component">
      <a class="title" href="../../plugin-installer/Home.html">Plugin Installer Documentation</a>
    </li>
    <li class="component">
      <a class="title" href="../../polar/index.html">Polar</a>
    </li>
    <li class="component">
      <a class="title" href="../../projections/0.1/index.html">Projections</a>
    </li>
    <li class="component">
      <a class="title" href="../../pypilot/index.html">Pypilot Autopilot</a>
    </li>
    <li class="component">
      <a class="title" href="../../race-start/0.1/index.html">RaceStart</a>
    </li>
    <li class="component">
      <a class="title" href="../../radar/0.1/index.html">Radar Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../../rotationctrl/index.html">Rotation Control</a>
    </li>
    <li class="component">
      <a class="title" href="../../s63_vector_charts/0.1/index.html">s63_vector_charts</a>
    </li>
    <li class="component">
      <a class="title" href="../../sailawaynmea/index.html">SailawayNMEA</a>
    </li>
    <li class="component">
      <a class="title" href="../../sar/index.html">SAR</a>
    </li>
    <li class="component">
      <a class="title" href="../../shipdriver/index.html">ShipDriver</a>
    </li>
    <li class="component">
      <a class="title" href="../../AlternativeWorkflow/index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a>
    </li>
    <li class="component">
      <a class="title" href="../../squiddio/0.1/index.html">sQuiddio</a>
    </li>
    <li class="component">
      <a class="title" href="../../statusbar/index.html">Statusbar</a>
    </li>
    <li class="component">
      <a class="title" href="../../survey/index.html">Survey</a>
    </li>
    <li class="component">
      <a class="title" href="../../tactics/index.html">Tactics</a>
    </li>
    <li class="component">
      <a class="title" href="../../tidefinder/index.html">TideFinder</a>
    </li>
    <li class="component">
      <a class="title" href="../../twocan/0.1/index.html">TwoCan Plugin</a>
    </li>
    <li class="component">
      <a class="title" href="../../uktides/index.html">UKtides</a>
    </li>
    <li class="component">
      <a class="title" href="../../vfkaps/index.html">VFkaps</a>
    </li>
    <li class="component">
      <a class="title" href="../../vdr/index.html">Voyage Data Recorder</a>
    </li>
    <li class="component">
      <a class="title" href="../../watchdog/index.html">Watchdog</a>
    </li>
    <li class="component">
      <a class="title" href="../../weather_routing/index.html">Weather Routing</a>
    </li>
    <li class="component">
      <a class="title" href="../../weatherfax/index.html">WeatherFax</a>
    </li>
    <li class="component">
      <a class="title" href="../../windvane/0.1/index.html">Windvane</a>
    </li>
    <li class="component">
      <a class="title" href="../../wmm/index.html">WMM magnetic variations</a>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../manuals/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenCPN Developer Manual</a></li>
    <li>Developer Manual</li>
    <li>Plugin Development</li>
    <li><a href="pm-tp-template.html">Testplugin Template</a></li>
    <li><a href="pm-tp-config-template.html">Configure Template</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/opencpn-manuals/development/edit/main/modules/ROOT/pages/pm-tp-config-template.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Configure Testplugin Template</h1>
<div id="preamble">
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Plugin: Testplugin_pi<br></p>
</li>
<li>
<p>Github: <a href="https://github.com/jongough/testplugin_pi" class="bare">https://github.com/jongough/testplugin_pi</a><br></p>
</li>
<li>
<p>Author: Jon Gough<br></p>
</li>
<li>
<p>CI-CMake Template  v1.0.160<br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features"><a class="anchor" href="#_features"></a>Features</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Fully functional plugin<br></p>
</li>
<li>
<p>Uses OCPN interfaces and demonstrates how to use the ocpn_draw_pi API, JSON &amp; Binary versions.<br></p>
</li>
<li>
<p>Continuous Integration and CMake package.<br></p>
</li>
<li>
<p>Guidance for the automated build process.<br></p>
</li>
<li>
<p>Cmake, CMakeLists.txt and scripts that are needed to compile the environments.<br></p>
</li>
<li>
<p>Encapsulates the complexities of multi environment builds and deploys.<br></p>
</li>
<li>
<p>Makes it easier to build and deliver plugins.<br></p>
</li>
<li>
<p>Plugin changes are made in CMakeLists.txt.<br></p>
</li>
<li>
<p>No need to modify the other build files.<br></p>
</li>
<li>
<p>Delivered to OpenCPN Plugin Management User Interface using metadata files<br></p>
</li>
<li>
<p>Via <a href="https://github.com/OpenCPN/plugins">OpenCPN Container Project for an Integrated Plugin Management Facility</a><br></p>
</li>
<li>
<p>Found at <a href="https://github.com/opencpn/plugins" class="bare">https://github.com/opencpn/plugins</a><br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_goal"><a class="anchor" href="#_goal"></a>Goal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Assist plugin developers to convert their plugins to the Plugin Manager system which:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Uses tarballs and metadata.xml files to store the necessary information.<br></p>
</li>
<li>
<p>Deploys directly to Cloudsmith repositories (or another location)<br></p>
</li>
<li>
<p>Online Files are accessed by OpenCPN Plugin Manager using "Library Catalog" (metadata.xml)<br></p>
</li>
<li>
<p>Plugins are installed from within OpenCPN <strong>Options &gt; Plugins</strong><br></p>
</li>
<li>
<p>User selects a Plugin to download, install or enable from an updated Catalog.<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The template configuration is found in  <a href="https://github.com/jongough/testplugin_pi" class="bare">https://github.com/jongough/testplugin_pi</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rename_existing_directories_and_files"><a class="anchor" href="#_rename_existing_directories_and_files"></a>Rename Existing Directories and Files</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_create_new_working_git_branch_for_your_plugin"><a class="anchor" href="#_create_new_working_git_branch_for_your_plugin"></a>Create new working Git branch for your Plugin:</h3>
<div class="ulist">
<ul>
<li>
<p>Keep your currently working "master" branch intact.<br></p>
</li>
<li>
<p>Create a new git branch.<br></p>
</li>
<li>
<p>EG: 'git checkout -b &lt;testplugin-template&gt; master'<br></p>
</li>
<li>
<p>Work in the new branch  &lt;testplugin-template&gt;.<br></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Pull new working branch to local.</p>
</li>
<li>
<p>Pull testplugin to local.</p>
</li>
<li>
<p>Make sure both local github repositories are current.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_copy_original_files_to_a_backup"><a class="anchor" href="#_copy_original_files_to_a_backup"></a>Copy original files to a backup:</h3>
<div class="ulist">
<ul>
<li>
<p>Rename CMakeLists.txt ---&#8594; CMakeLists.txt.bk<br></p>
</li>
<li>
<p>Rename appveyor.yml ---&#8594; appveyor.save.yml.bk<br></p>
</li>
<li>
<p>Rename .travis.yml ---&#8594; .travis.save.yml.bk<br></p>
</li>
<li>
<p>Rename the cmake directory --&#8594; cmake-bk<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Keep any other specialized plugin directories or files.</p>
</div>
</div>
<div class="sect2">
<h3 id="_directories_to_remain_intact_in_your_plugin"><a class="anchor" href="#_directories_to_remain_intact_in_your_plugin"></a>Directories to Remain intact in your Plugin</h3>
<div class="ulist">
<ul>
<li>
<p>Include<br></p>
</li>
<li>
<p>Data<br></p>
</li>
<li>
<p>src<br></p>
</li>
<li>
<p>po<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any other plugin specific directories.</p>
</div>
</div>
<div class="sect2">
<h3 id="_directories_not_needed_from_testplugin"><a class="anchor" href="#_directories_not_needed_from_testplugin"></a>Directories Not needed from Testplugin</h3>
<div class="ulist">
<ul>
<li>
<p>data<br></p>
</li>
<li>
<p>forms<br></p>
</li>
<li>
<p>include<br></p>
</li>
<li>
<p>lib<br></p>
</li>
<li>
<p>src<br></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_file_compare_software"><a class="anchor" href="#_file_compare_software"></a>File Compare Software</h3>
<div class="ulist">
<ul>
<li>
<p>Use software similar to <a href="https://winmerge.org/?lang=en">WinMerge</a> (open source) for File Comparison.</p>
</li>
<li>
<p>Get the two local folders opened and compare each folder.</p>
</li>
<li>
<p>Then follow instructions below.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_copy_files_folders_from_testplugin_pi"><a class="anchor" href="#_copy_files_folders_from_testplugin_pi"></a>Copy Files &amp; Folders from Testplugin_pi</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copy full Directories, Sub-dir and Files unless noted
replacing any existing folders and files entirely.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>.circleci<br></p>
</li>
<li>
<p>ci<br></p>
</li>
<li>
<p>cmake<br></p>
</li>
<li>
<p>buildosx<br></p>
</li>
<li>
<p>buidwin<br></p>
</li>
<li>
<p>mingw<br></p>
</li>
<li>
<p>extinclude  (Json Validation - only odraw, watchdog, weather_routing)<br></p>
</li>
<li>
<p>extsrc  (Json Validation - only odraw, watchdog, weather_routing) + ocpninclude (only glu directory and TexFont.h<br></p>
</li>
<li>
<p>ocpnsrc (only GL directory and TexFont.cpp<br></p>
</li>
<li>
<p>appveyor.yml (file)<br></p>
</li>
<li>
<p>.travis.yml  (file)<br></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_review_and_compare"><a class="anchor" href="#_review_and_compare"></a>Review and Compare.</h3>
<div class="ulist">
<ul>
<li>
<p>CMakeLists.txt</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Edit this file while comparing to old file.<br>
There are inline directions in the file.<br>
Add specific information for your plugin.<br>
Add include files as necesary and headers and libs.
See notes below for more detail.<br></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changes_required"><a class="anchor" href="#_changes_required"></a>Changes Required</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Backup CMakeLists.txt, appveyor.yml, .travis.yml</p>
</li>
<li>
<p>Modify CMakeLists.txt file, following the in-line notes</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Modify Plugin Specifics at the top.</p>
<div class="ulist">
<ul>
<li>
<p>Plugin name types,</p>
</li>
<li>
<p>CommonName -search "plugin"_pi.cpp for "GetCommon"</p>
</li>
<li>
<p>Version numbers and date</p>
</li>
<li>
<p>Parent, Package and Git User. Git Repository</p>
</li>
<li>
<p>Cloudsmith User</p>
</li>
<li>
<p>Cloudsmith Base Repository (optional)</p>
</li>
<li>
<p>Plugin XML Info_url, Summary and Description</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the section that also uses your plugins specific code:</p>
<div class="ulist">
<ul>
<li>
<p>Modify/configure set(SRCS and HDRS and 'Include' Dir</p>
</li>
<li>
<p>Modify/configure 'Set(SRCS &amp; HDRS' Directories</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modify/configure 'Add Library' listings for the plugin.</p>
<div class="ulist">
<ul>
<li>
<p>Make sure all your necessary libraries are found.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>API Number must be at least 1.16 for the new Plugin Manager, due to a change in how directories are found and location.</p>
</li>
<li>
<p>API Names changed from MY_API_VERSION_MAJOR/MINOR to OCPN_API_VERSION_MAJOR/MINOR</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>OCPN_API_VERSION_MAJOR/MINOR is now used in cmake/in-files/version.h.in</p>
</li>
<li>
<p>In [pluginname_pi].cpp</p>
<div class="ulist">
<ul>
<li>
<p>Several lines must change from MY_API_VERSION_MAJOR/MINOR to</p>
<div class="ulist">
<ul>
<li>
<p>EG: "return OCPN_API_VERSION_MAJOR;"</p>
</li>
<li>
<p>EG: "return OCPN_API_VERSION_MINOR;"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Find wxString (pluginname_pi)::GetCommonName() and change</p>
<div class="ulist">
<ul>
<li>
<p>return _("(pluginname-pi)");  to</p>
</li>
<li>
<p>return _T(PLUGIN_COMMON_NAME);</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>In the file (plugin_pi).h</p>
<div class="ulist">
<ul>
<li>
<p>Several lines must be commented out.</p>
<div class="ulist">
<ul>
<li>
<p>// #define     MY_API_VERSION_MAJOR    1</p>
</li>
<li>
<p>// #define     MY_API_VERSION_MINOR    16</p>
</li>
<li>
<p>or removed.</p>
</li>
<li>
<p>because new values definitions are defined in cmake/in-files/version.h.in</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapt_plugin"><a class="anchor" href="#_adapt_plugin"></a>Adapt Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There will be additional changes needed to adapt your plugin to the template.
Some of this is related to changes in the API or the ways of handling things.
Please see  Adapt Plugin for more information that is available about specific changes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_process"><a class="anchor" href="#_process"></a>Process</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cmake Files are somewhat generic, but often can be plugin specific, depending on the plugin.</p>
</li>
<li>
<p>Review the cmake.save files one by one with the new ones and make necessary adjustments.</p>
</li>
<li>
<p>Configuring this is not simple and requires knowledge about the plugin operation.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_build_locally"><a class="anchor" href="#_test_build_locally"></a>Test Build Locally</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Note the errors and sequentially fix them one by one until the plugin compiles and builds.
The try the plugin in Opencpn and test it.
Get everythng working properly.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_ci_script_working"><a class="anchor" href="#_get_ci_script_working"></a>Get CI Script working</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the ci/environment scripts working on Circleci, Appveyor</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_deployment_working"><a class="anchor" href="#_get_deployment_working"></a>Get Deployment working</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the uploads to Cloudsmith working.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>See Prequisite Services and Clousamirh Setup.</p>
</li>
<li>
<p>Also join the OpenCPN Organization as a member of the Plugins Team.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>EDIT  EDIT
CHECK THE TEXT BELOW WITH THE ABOVE
BELOW IS MORE CURRENT</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_posssible_addditions"><a class="anchor" href="#_posssible_addditions"></a>Posssible Addditions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_get_setup_locally"><a class="anchor" href="#_1_get_setup_locally"></a>1. Get setup locally.</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From local &lt;plugin&gt; master branch  git checkout -b master-cmake</p>
</li>
<li>
<p>From remote online github Testplugin repository master branch make a PR from jongough master and merge it.</p>
</li>
<li>
<p>Locally using bash prompt cd documents/github/testplugin_pi   then  git pull origin master to update</p>
</li>
<li>
<p>Locally in bash cd watchdog_pi  make sure you are in master-cmake branch</p>
</li>
<li>
<p>Locally using WinMerge open a comparison between testplugin_pi and watchdog_pi</p>
</li>
<li>
<p>Now you are ready to update frontend2 to be current. copy these folder and files to the plugin from Testplugin_pi</p>
</li>
<li>
<p>Directories &amp; files to copy from Testplugin--&#8594;plugin to be identical.</p>
</li>
<li>
<p>Folders identical to testplugin - circleci, buildosx, buildwin, ci, cmake, mingw, extinclude, extsrc</p>
</li>
<li>
<p>Folders for testplugin only (don&#8217;t copy) - include,  (actually there is one android datectrl.h file)</p>
</li>
<li>
<p>Folders that are different/not exist in watchdog  (Different) build, data, src  (Not existing) forms, ocpninclude</p>
</li>
<li>
<p>ocpninclude  - Many ocpn_draw files.  I don&#8217;t believe we need this folder.</p>
</li>
<li>
<p>Did the GL folder go to libs/GL?</p>
</li>
<li>
<p>I see that ocpn_plugin.h, msvc/opencpn.lib and mingw/libopencpn.dll.a landed in libs/ocpn-api so I can delete the api-16 directory.</p>
</li>
<li>
<p>Texfont.h is in src/ folder.</p>
</li>
<li>
<p>Don&#8217;t see pluginmanager.h anywhere, is it needed?</p>
</li>
<li>
<p>How to instruct other Plugin Devs about the paths for these changes?</p>
</li>
<li>
<p>Watchdog_pi uses ocpn_draw for boundaries.</p>
</li>
<li>
<p>libs  (renamed from lib) - copy over all folders leaving existing folders (nmea0183 and bzip2).</p>
</li>
<li>
<p>mingw  identical</p>
</li>
<li>
<p>modules for watchdog documentation..</p>
</li>
<li>
<p>ocpninclude -not needed.  (Tried copying all files to wd to fix TexFont.cpp issues - it did not fix it)</p>
</li>
<li>
<p>ocpnsrc - copied over, is it needed?  Has glu and Texfont.cpp</p>
</li>
<li>
<p>po - different</p>
</li>
<li>
<p>src - different</p>
</li>
<li>
<p>ui -different</p>
</li>
<li>
<p>adding buildandroid back in but it is old from bdbcat build and probably not needed.</p>
</li>
<li>
<p>adding include/android/wx/datectrl.h  back in but it is old from bdbcat and probably not needed.</p>
</li>
<li>
<p>Files travis.yml, appveyor.yml should be copied.</p>
</li>
<li>
<p>CMakeLists.txt will vary and should be changed appropriately to build.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
