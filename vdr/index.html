<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VDR :: OpenCPN</title>
    <link rel="canonical" href="https://opencpn-manuals.github.io/main/vdr/index.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="ocpn-logo"> </div>
    <div class="navbar-brand">
      <a class="navbar-item" href="https://opencpn-manuals.github.io/main">OpenCPN</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
              <a class="navbar-item" href="https://www.opencpn.org/">
                OpenCPN.org
              </a>
              <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
                Github Site
              </a>
              <a class="navbar-item" href="https://opencpn.org/flyspray/">
                Bugtracker
              </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="vdr" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Voyage Data Recorder</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../admiralty/index.html">Admiralty Tide Tables</a>
    </li>
    <li class="component">
      <a class="title" href="../rtlsdr/index.html">AIS RTLsdr USB</a>
    </li>
    <li class="component">
      <a class="title" href="../ais-vd/0.1/index.html">AIS-vd</a>
    </li>
    <li class="component">
      <a class="title" href="../aisradar/index.html">AISradar</a>
    </li>
    <li class="component">
      <a class="title" href="../autopilot-rm/0.1/index.html">Autopilot Raymarine</a>
    </li>
    <li class="component">
      <a class="title" href="../autopilot_route/index.html">Autopilot Route</a>
    </li>
    <li class="component">
      <a class="title" href="../autotrackraymarine/index.html">AutoTrackRaymarine Evo</a>
    </li>
    <li class="component">
      <a class="title" href="../calculator/index.html">Calculator</a>
    </li>
    <li class="component">
      <a class="title" href="../celestial_navigation/index.html">Celestial Navigation</a>
    </li>
    <li class="component">
      <a class="title" href="../chartdldr/index.html">Chart Downloader Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../chartscale/index.html">ChartScale</a>
    </li>
    <li class="component">
      <a class="title" href="../climatology/index.html">Climatology</a>
    </li>
    <li class="component">
      <a class="title" href="../dashboard/index.html">Dashboard</a>
    </li>
    <li class="component">
      <a class="title" href="../dashboard_tactics/index.html">Dashboard Tactics</a>
    </li>
    <li class="component">
      <a class="title" href="../dashboardsk/index.html">DashboardSK</a>
    </li>
    <li class="component">
      <a class="title" href="../debugger/0.1/index.html">Debugger</a>
    </li>
    <li class="component">
      <a class="title" href="../deviation/index.html">Deviation</a>
    </li>
    <li class="component">
      <a class="title" href="../dead_reckoning/index.html">DR</a>
    </li>
    <li class="component">
      <a class="title" href="../e_timer/index.html">e_timer</a>
    </li>
    <li class="component">
      <a class="title" href="../earthexplorer/index.html">EarthExplorer</a>
    </li>
    <li class="component">
      <a class="title" href="../engine-dash/0.1/index.html">EngineDashboard</a>
    </li>
    <li class="component">
      <a class="title" href="../findit/index.html">FindIt</a>
    </li>
    <li class="component">
      <a class="title" href="../frcurrents/index.html">frcurrents</a>
    </li>
    <li class="component">
      <a class="title" href="../gps-odometer/index.html">GPS-Odometer</a>
    </li>
    <li class="component">
      <a class="title" href="../route/index.html">Great Circle Route</a>
    </li>
    <li class="component">
      <a class="title" href="../grib/index.html">Grib Weather Data Plugin</a>
    </li>
    <li class="component">
      <a class="title" href="../javascript/index.html">Javascript Plugin Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../radarhub_pi/index.html">KAHU Radar Hub</a>
    </li>
    <li class="component">
      <a class="title" href="../launcher/0.1/index.html">Launcher</a>
    </li>
    <li class="component">
      <a class="title" href="../logbook/index.html">Logbook</a>
    </li>
    <li class="component">
      <a class="title" href="../ncdf/index.html">NCDF Tidal Currents</a>
    </li>
    <li class="component">
      <a class="title" href="../nmea_converter/index.html">NMEA Converter</a>
    </li>
    <li class="component">
      <a class="title" href="../nsk/index.html">NSK</a>
    </li>
    <li class="component">
      <a class="title" href="../nv_charts/index.html">nv_charts</a>
    </li>
    <li class="component">
      <a class="title" href="../o-charts/index.html">o-charts</a>
    </li>
    <li class="component">
      <a class="title" href="../objsearch/0.1/index.html">ObjSearch</a>
    </li>
    <li class="component">
      <a class="title" href="../odraw/index.html">Ocpn_Draw</a>
    </li>
    <li class="component">
      <a class="title" href="../oesenc/0.1/index.html">oesenc</a>
    </li>
    <li class="component">
      <a class="title" href="../ocpn-dev-manual/0.1/index.html">OpenCPN Developer Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../manuals/index.html">OpenCPN Manuals</a>
    </li>
    <li class="component">
      <a class="title" href="../opencpn-plugins/index.html">OpenCPN Plugins</a>
    </li>
    <li class="component">
      <a class="title" href="../opencpn-dev/index.html">OpenCPN Programming Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../otcurrent/index.html">oTcurrent</a>
    </li>
    <li class="component">
      <a class="title" href="../otidalplan/index.html">oTidalPlan</a>
    </li>
    <li class="component">
      <a class="title" href="../otidalroute/index.html">oTidalRoute</a>
    </li>
    <li class="component">
      <a class="title" href="../photolayer/index.html">PhotoLayer</a>
    </li>
    <li class="component">
      <a class="title" href="../plots/index.html">Plots</a>
    </li>
    <li class="component">
      <a class="title" href="../plugin-installer/Home.html">Plugin Installer Documentation</a>
    </li>
    <li class="component">
      <a class="title" href="../polar/index.html">Polar</a>
    </li>
    <li class="component">
      <a class="title" href="../projections/0.1/index.html">Projections</a>
    </li>
    <li class="component">
      <a class="title" href="../pypilot/index.html">Pypilot Autopilot</a>
    </li>
    <li class="component">
      <a class="title" href="../race-start/0.1/index.html">RaceStart</a>
    </li>
    <li class="component">
      <a class="title" href="../radar/0.1/index.html">Radar Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../rotationctrl/index.html">Rotation Control</a>
    </li>
    <li class="component">
      <a class="title" href="../s63_vector_charts/0.1/index.html">s63_vector_charts</a>
    </li>
    <li class="component">
      <a class="title" href="../sailawaynmea/index.html">SailawayNMEA</a>
    </li>
    <li class="component">
      <a class="title" href="../sar/index.html">SAR</a>
    </li>
    <li class="component">
      <a class="title" href="../shipdriver/index.html">ShipDriver</a>
    </li>
    <li class="component">
      <a class="title" href="../AlternativeWorkflow/index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a>
    </li>
    <li class="component">
      <a class="title" href="../squiddio/0.1/index.html">sQuiddio</a>
    </li>
    <li class="component">
      <a class="title" href="../statusbar/index.html">Statusbar</a>
    </li>
    <li class="component">
      <a class="title" href="../survey/index.html">Survey</a>
    </li>
    <li class="component">
      <a class="title" href="../tactics/index.html">Tactics</a>
    </li>
    <li class="component">
      <a class="title" href="../tidefinder/index.html">TideFinder</a>
    </li>
    <li class="component">
      <a class="title" href="../twocan/0.1/index.html">TwoCan Plugin</a>
    </li>
    <li class="component">
      <a class="title" href="../uktides/index.html">UKtides</a>
    </li>
    <li class="component">
      <a class="title" href="../vfkaps/index.html">VFkaps</a>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Voyage Data Recorder</a>
    </li>
    <li class="component">
      <a class="title" href="../watchdog/index.html">Watchdog</a>
    </li>
    <li class="component">
      <a class="title" href="../weather_routing/index.html">Weather Routing</a>
    </li>
    <li class="component">
      <a class="title" href="../weatherfax/index.html">WeatherFax</a>
    </li>
    <li class="component">
      <a class="title" href="../windvane/0.1/index.html">Windvane</a>
    </li>
    <li class="component">
      <a class="title" href="../wmm/index.html">WMM magnetic variations</a>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../manuals/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/rgleason/vdr_pi/edit/master/manual/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">VDR</h1>
<div class="sect1">
<h2 id="_voyage_data_recorder"><a class="anchor" href="#_voyage_data_recorder"></a>Voyage Data Recorder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use Voyage Data Recorder to record and play NMEA files.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links"><a class="anchor" href="#_links"></a>Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Maintenance Source: <a href="https://github.com/rgleason/vdr_pi" class="bare">https://github.com/rgleason/vdr_pi</a>  Current</p>
</li>
<li>
<p>Source: <a href="https://github.com/nohal/vdr_pi">Github Nohal Repository</a></p>
</li>
<li>
<p>Old Source: <a href="https://github.com/SethDart/vdr_pi">Github Seth-dart Original Repository</a></p>
</li>
<li>
<p>Download: <a href="https://opencpn.org/OpenCPN/plugins/vdr.html">Website Download</a></p>
</li>
<li>
<p>Forum: <a href="http://www.cruisersforum.com/forums/f134/vdr-plugin-59808.html">VDR Plugin Thread</a></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/vdr-ais_simulation-2.png" alt="vdr ais simulation 2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_1_download_and_install"><a class="anchor" href="#_1_download_and_install"></a>1. Download and Install</h2>
<div class="sectionbody">
<div class="paragraph">
<p>VDR Voyage Data Recorder is available as a managed plugin. The OpenCPN Manual has general information in <a href="../opencpn-plugins/misc/plugin-install.html" class="xref page">Plugin Download, Install and Enable</a>
for installing this plugin. This is the preferred way.</p>
</div>
<div class="paragraph">
<p>In OpenCPN, go to the <em>Options → Plugins</em> and download, install and enable the Tactics plugin.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In OpenCPN  Click <strong>Tools-Options-Plugins</strong></p>
</li>
<li>
<p>First "Update" the master plugins catalog.</p>
</li>
<li>
<p>Select the VDR entry and "Install" the plugin.</p>
</li>
<li>
<p>In the list of installed plugins "Enable" the Tactics plugin and "Apply".</p>
</li>
<li>
<p>Use “<strong>Preferences</strong>” to set your preferences (should be self-explanatory). Then “<strong>Apply</strong>.</p>
</li>
<li>
<p>After successful installation, the plugin should be available in the plugins tab of your OpenCPN options dialog box.</p>
</li>
<li>
<p>Then close <strong>Options</strong> and the two Play and Record VDR Icons should appear in the Toolbar.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_purpose"><a class="anchor" href="#_2_purpose"></a>2. Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Record and Play NMEA0183, NMEA2000, and SignalK data streams in OpenCPN. See <a href="log_format.html" class="xref page">Log Format Specification</a> for details on the recording format.</p>
</li>
<li>
<p>Use VDR for AIS Simulation - Run VDR to play AIS NMEA files. Or… use
the VDR plugin to record your passages and replay them later! The VDR is
also great for testing NMEA sentences, the Dashboard and new OpenCPN
features. These are just a few examples, of how to use this versatile
plugin.</p>
</li>
<li>
<p>When VDR is activated in ToolBar→Options→Plugins→VDR, two Buttons appear in the ToolBar.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/vdr-icons.png" alt="vdr icons">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_preferences"><a class="anchor" href="#_3_preferences"></a>3. Preferences</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The VDR (Voyage Data Recorder) plugin offers several configuration options to control recording behavior and data management.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_recording_protocols"><a class="anchor" href="#_recording_protocols"></a>Recording Protocols</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>NMEA 0183: Select to record NMEA 0183 data streams.</p>
</li>
<li>
<p>NMEA 2000: Select to record NMEA 2000 data streams.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_recording_format"><a class="anchor" href="#_recording_format"></a>Recording Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Choose between two output formats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Raw NMEA: Stores data in original NMEA format.</p>
</li>
<li>
<p>CSV with timestamps: Converts NMEA data to CSV format with added timestamp information.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_recording_directory"><a class="anchor" href="#_recording_directory"></a>Recording Directory</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Specify the location where VDR files will be stored. Default directory is <code>/Users/[username]/Documents/VDR</code>.
Use the "Browse" button to select a different location.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vdr_file_management"><a class="anchor" href="#_vdr_file_management"></a>VDR File Management</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Enable automatic file rotation by checking "Create new VDR file every:".</p>
</li>
<li>
<p>Set the rotation interval in hours.</p>
</li>
<li>
<p>This helps manage file sizes and organize recordings by time periods.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatic_recording"><a class="anchor" href="#_automatic_recording"></a>Automatic Recording</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The plugin provides smart recording features to optimize data collection:</p>
</div>
<div class="sect2">
<h3 id="_automatic_start"><a class="anchor" href="#_automatic_start"></a>Automatic Start</h3>
<div class="paragraph">
<p>Enable "Automatically start recording" to begin recording when OpenCPN starts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_speed_based_recording"><a class="anchor" href="#_speed_based_recording"></a>Speed-Based Recording</h3>
<div class="ulist">
<ul>
<li>
<p>Set a speed threshold (in knots) to automatically start recording.</p>
</li>
<li>
<p>Recording begins when vessel speed exceeds the threshold.</p>
</li>
<li>
<p>Speed data is obtained from NMEA RMC sentences, PGN 129026.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_recording_pause"><a class="anchor" href="#_recording_pause"></a>Recording Pause</h3>
<div class="ulist">
<ul>
<li>
<p>Configure how long to continue recording after speed drops below threshold</p>
</li>
<li>
<p>Set the delay in minutes (default: 2 minutes)</p>
</li>
<li>
<p>This prevents frequent start/stop cycles when speed fluctuates around the threshold</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All changes in preferences take effect immediately after clicking "OK". The "Cancel" button discards any changes made to the preferences.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/VDR-Preferences.png" alt="VDR Preferences">
</div>
<div class="title">Figure 1. VDR Preferences Window</div>
</div>
<div class="paragraph">
<p>Example log:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">13:46:49.236 MESSAGE vdr_pi.cpp:304 VDR: Auto-starting recording - speed 10.00 exceeds threshold 0.50
13:49:11.712 MESSAGE vdr_pi.cpp:319 VDR: Speed dropped below threshold, starting stop delay timer
13:51:11.396 MESSAGE vdr_pi.cpp:326 VDR: Auto-stopping recording - speed 0.10 below threshold 0.50 for 2 minutes</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_operation"><a class="anchor" href="#_4_operation"></a>4. Operation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To start recording data immediately, click the "Record" button in the toolbar.
The data is recorded in files named vdr_YYYYMMDDTHHMMSSZ.txt or vdr_YYYYMMDDTHHMMSSZ.csv
depending on the preferences.</p>
</li>
<li>
<p>Click the "Play" button in the toolbar to display a dialog which can be
used to replay VDR data or customize the preferences.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/vdr-control.png" alt="vdr control">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You can control the speed with the upper slider. Far left is slow,
natural speed, while moving the slider to the far right equals fast
forwarding. Please note that the setting under options/ships/calculate
SOG will impact which SOG values are shown when playing fast forwarding.</p>
<div class="ulist">
<ul>
<li>
<p>1x sentences/messages are replayed at exactly the same original clock, i.e. real time. 2x is twice as fast.</p>
</li>
<li>
<p>100x is 100 times faster than the recording rate.</p>
</li>
<li>
<p>As replay speed gets higher, OpenCPN may not be able to keep up consuming sentences, which depends on the computer CPU, memory, whether other programs are running, how CPN is configured, what charts are displayed, the zoom level, etc. The VDR plugin ensures that the queue does not grow indefinitely by maintaining a max queue size.
This makes it possible to replay at high speed to get a quick overview.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The lower part of the dialog shows the progress.</p>
</li>
<li>
<p>When recording, the VDR plugin includes all NMEA data available on the
internal bus in OpenCPN. Even data not recognized or used by OpenCPN
will be recorded. Everything (almost) in the ToolBar→Connections→NMEA
debug window will be included.</p>
</li>
<li>
<p>In other words. The VDR records everything from all ports and does not
participate in the downstream multiplexer filter or priority scheme.
That way, a VDR recording may be played back, experimenting with various
filters and priorities if desired.</p>
</li>
<li>
<p>If you are playing a file with the VDR at the same time, even that
data will be included. So it is possible to play and record at the same
time!</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_want_to_play"><a class="anchor" href="#_want_to_play"></a>Want to play ?</h3>
<div class="ulist">
<ul>
<li>
<p>To get started, download this <a href="_attachments/rausch_shortened.zip">file</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Save and un-zip and you have a .txt file. The file is ready to play.
* If you can&#8217;t find the boat, have a look in the Adriatic or just press
the “Auto Follow”, or press F2. The view will now center on the action.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/nmea-debug-dsc.png" alt="nmea debug dsc">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The VDR shows up as “PlugIn Virtual” in the NMEA Debug Window.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_faq"><a class="anchor" href="#_5_faq"></a>5. FAQ</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_why_is_my_sog_way_off_and_showing_60_70_knots_in_the_dashboard_when_i_playback_a_file"><a class="anchor" href="#_why_is_my_sog_way_off_and_showing_60_70_knots_in_the_dashboard_when_i_playback_a_file"></a>Why is my SOG way off and showing 60-70 knots in the Dashboard, when I playback a file?</h3>
<div class="paragraph">
<p>Uncheck “Calculate SOG” option in Preferences. See
<a href="http://www.cruisersforum.com/forums/f134/playback-vdr-from-recorded-file-201359.html#post2635729">Playbackfrom recorded file</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_5_2_what_file_format_is_used_for_recording"><a class="anchor" href="#_5_2_what_file_format_is_used_for_recording"></a>5.2 What file format is used for recording?</h3>
<div class="paragraph">
<p>The VDR plugin uses a CSV-based format that supports NMEA0183, NMEA2000, and SignalK data.
See the <a href="log_format.html" class="xref page">Log Format Specification</a> for details on the format and examples.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
  </body>
</html>
