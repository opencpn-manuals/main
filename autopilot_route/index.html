<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AutoPilot Route :: OpenCPN</title>
    <link rel="canonical" href="https://opencpn-manuals.github.io/main/autopilot_route/index.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="ocpn-logo"> </div>
    <div class="navbar-brand">
      <a class="navbar-item" href="https://opencpn-manuals.github.io/main">OpenCPN</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
              <a class="navbar-item" href="https://www.opencpn.org/">
                OpenCPN.org
              </a>
              <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
                Github Site
              </a>
              <a class="navbar-item" href="https://opencpn.org/flyspray/">
                Bugtracker
              </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="autopilot_route" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Autopilot Route</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../admiralty/index.html">Admiralty Tide Tables</a>
    </li>
    <li class="component">
      <a class="title" href="../rtlsdr/index.html">AIS RTLsdr USB</a>
    </li>
    <li class="component">
      <a class="title" href="../ais-vd/0.1/index.html">AIS-vd</a>
    </li>
    <li class="component">
      <a class="title" href="../aisradar/index.html">AISradar</a>
    </li>
    <li class="component">
      <a class="title" href="../autopilot-rm/0.1/index.html">Autopilot Raymarine</a>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Autopilot Route</a>
    </li>
    <li class="component">
      <a class="title" href="../autotrackraymarine/index.html">AutoTrackRaymarine Evo</a>
    </li>
    <li class="component">
      <a class="title" href="../calculator/index.html">Calculator</a>
    </li>
    <li class="component">
      <a class="title" href="../celestial_navigation/index.html">Celestial Navigation</a>
    </li>
    <li class="component">
      <a class="title" href="../chartdldr/index.html">Chart Downloader Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../chartscale/index.html">ChartScale</a>
    </li>
    <li class="component">
      <a class="title" href="../climatology/index.html">Climatology</a>
    </li>
    <li class="component">
      <a class="title" href="../dashboard/index.html">Dashboard</a>
    </li>
    <li class="component">
      <a class="title" href="../dashboard_tactics/index.html">Dashboard Tactics</a>
    </li>
    <li class="component">
      <a class="title" href="../dashboardsk/index.html">DashboardSK</a>
    </li>
    <li class="component">
      <a class="title" href="../debugger/0.1/index.html">Debugger</a>
    </li>
    <li class="component">
      <a class="title" href="../deviation/index.html">Deviation</a>
    </li>
    <li class="component">
      <a class="title" href="../dead_reckoning/index.html">DR</a>
    </li>
    <li class="component">
      <a class="title" href="../e_timer/index.html">e_timer</a>
    </li>
    <li class="component">
      <a class="title" href="../earthexplorer/index.html">EarthExplorer</a>
    </li>
    <li class="component">
      <a class="title" href="../engine-dash/0.1/index.html">EngineDashboard</a>
    </li>
    <li class="component">
      <a class="title" href="../findit/index.html">FindIt</a>
    </li>
    <li class="component">
      <a class="title" href="../frcurrents/index.html">frcurrents</a>
    </li>
    <li class="component">
      <a class="title" href="../gps-odometer/index.html">GPS-Odometer</a>
    </li>
    <li class="component">
      <a class="title" href="../route/index.html">Great Circle Route</a>
    </li>
    <li class="component">
      <a class="title" href="../grib/index.html">Grib Weather Data Plugin</a>
    </li>
    <li class="component">
      <a class="title" href="../javascript/index.html">Javascript Plugin Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../radarhub_pi/index.html">KAHU Radar Hub</a>
    </li>
    <li class="component">
      <a class="title" href="../launcher/0.1/index.html">Launcher</a>
    </li>
    <li class="component">
      <a class="title" href="../logbook/index.html">Logbook</a>
    </li>
    <li class="component">
      <a class="title" href="../ncdf/index.html">NCDF Tidal Currents</a>
    </li>
    <li class="component">
      <a class="title" href="../nmea_converter/index.html">NMEA Converter</a>
    </li>
    <li class="component">
      <a class="title" href="../nsk/index.html">NSK</a>
    </li>
    <li class="component">
      <a class="title" href="../nv_charts/index.html">nv_charts</a>
    </li>
    <li class="component">
      <a class="title" href="../o-charts/index.html">o-charts</a>
    </li>
    <li class="component">
      <a class="title" href="../objsearch/0.1/index.html">ObjSearch</a>
    </li>
    <li class="component">
      <a class="title" href="../odraw/index.html">Ocpn_Draw</a>
    </li>
    <li class="component">
      <a class="title" href="../oesenc/0.1/index.html">oesenc</a>
    </li>
    <li class="component">
      <a class="title" href="../ocpn-dev-manual/0.1/index.html">OpenCPN Developer Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../manuals/index.html">OpenCPN Manuals</a>
    </li>
    <li class="component">
      <a class="title" href="../opencpn-plugins/index.html">OpenCPN Plugins</a>
    </li>
    <li class="component">
      <a class="title" href="../opencpn-dev/index.html">OpenCPN Programming Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../otcurrent/index.html">oTcurrent</a>
    </li>
    <li class="component">
      <a class="title" href="../otidalplan/index.html">oTidalPlan</a>
    </li>
    <li class="component">
      <a class="title" href="../otidalroute/index.html">oTidalRoute</a>
    </li>
    <li class="component">
      <a class="title" href="../photolayer/index.html">PhotoLayer</a>
    </li>
    <li class="component">
      <a class="title" href="../plots/index.html">Plots</a>
    </li>
    <li class="component">
      <a class="title" href="../plugin-installer/Home.html">Plugin Installer Documentation</a>
    </li>
    <li class="component">
      <a class="title" href="../polar/index.html">Polar</a>
    </li>
    <li class="component">
      <a class="title" href="../projections/0.1/index.html">Projections</a>
    </li>
    <li class="component">
      <a class="title" href="../pypilot/index.html">Pypilot Autopilot</a>
    </li>
    <li class="component">
      <a class="title" href="../race-start/0.1/index.html">RaceStart</a>
    </li>
    <li class="component">
      <a class="title" href="../radar/0.1/index.html">Radar Manual</a>
    </li>
    <li class="component">
      <a class="title" href="../rotationctrl/index.html">Rotation Control</a>
    </li>
    <li class="component">
      <a class="title" href="../s63_vector_charts/0.1/index.html">s63_vector_charts</a>
    </li>
    <li class="component">
      <a class="title" href="../sailawaynmea/index.html">SailawayNMEA</a>
    </li>
    <li class="component">
      <a class="title" href="../sar/index.html">SAR</a>
    </li>
    <li class="component">
      <a class="title" href="../shipdriver/index.html">ShipDriver</a>
    </li>
    <li class="component">
      <a class="title" href="../AlternativeWorkflow/index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a>
    </li>
    <li class="component">
      <a class="title" href="../squiddio/0.1/index.html">sQuiddio</a>
    </li>
    <li class="component">
      <a class="title" href="../statusbar/index.html">Statusbar</a>
    </li>
    <li class="component">
      <a class="title" href="../survey/index.html">Survey</a>
    </li>
    <li class="component">
      <a class="title" href="../tactics/index.html">Tactics</a>
    </li>
    <li class="component">
      <a class="title" href="../tidefinder/index.html">TideFinder</a>
    </li>
    <li class="component">
      <a class="title" href="../twocan/0.1/index.html">TwoCan Plugin</a>
    </li>
    <li class="component">
      <a class="title" href="../uktides/index.html">UKtides</a>
    </li>
    <li class="component">
      <a class="title" href="../vfkaps/index.html">VFkaps</a>
    </li>
    <li class="component">
      <a class="title" href="../vdr/index.html">Voyage Data Recorder</a>
    </li>
    <li class="component">
      <a class="title" href="../watchdog/index.html">Watchdog</a>
    </li>
    <li class="component">
      <a class="title" href="../weather_routing/index.html">Weather Routing</a>
    </li>
    <li class="component">
      <a class="title" href="../weatherfax/index.html">WeatherFax</a>
    </li>
    <li class="component">
      <a class="title" href="../windvane/0.1/index.html">Windvane</a>
    </li>
    <li class="component">
      <a class="title" href="../wmm/index.html">WMM magnetic variations</a>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../manuals/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/rgleason/autopilot_route_pi/edit/master/manual/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">AutoPilot Route</h1>
<div class="sect1">
<h2 id="_aim"><a class="anchor" href="#_aim"></a>Aim</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Provide Configurable Autopilot Route following abilities for OpenCPN.</p>
</div>
<div class="paragraph">
<p>Please note that Autopilot_Route does output a continuously changing
bearing in some modes, which is no problem for pypilot, but some
autopilots might not allow it. Also this plugin has only been tested with
pypilot at this point in time. If you are using it with other autopilots
please advise regarding your experience.</p>
</div>
<div class="paragraph">
<p>The autopilot route plugin (beta) is a completely separate plugin to be
used with any autopilot. It allows you to use different algorithms and
closely tune them for route following logic. It has nothing specific to
pypilot. This plugin allows the user to select different algorithms and
closely tune them for route following logic. The autopilot route plugin
replaces the nmea APB output built into opencpn with many more options
for computing how this sentence is generated.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The autopilot route plugin outputs a continuously changing bearing in
some modes always with xte of 0 (because xte is not used) so the
autopilot must accept this and not require confirmation for it to work.</p>
</li>
<li>
<p>To make Pypilot follow routes from either Opencpn without the
autopilot route plugin or with it is the same. You need to make tcp
connection from Opencpn to Pypilot port 20220 with “output on this port”
checked.</p>
</li>
<li>
<p>The latest version of the Pypilot Plugin can automatically send nmea
sentences to port 20220 on whatever host it connects to Pypilot for
Signalk which makes it easier to change the autopilot host (if you have
more than one, for example) without needing to add or change the
connection in opencpn.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links"><a class="anchor" href="#_links"></a>Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Source: <a href="https://github.com/seandepagnier/autopilot_route_pi">Github Source</a> by Sean Depagnier</p>
</li>
<li>
<p>Maintenance Source: <a href="https://github.com/rgleason/autopilot_route_pi" class="bare">https://github.com/rgleason/autopilot_route_pi</a></p>
</li>
<li>
<p>Installation Instructions: <a href="../opencpn-plugins/misc/plugin-install.html" class="xref page">Plugin Download, Install and Enable</a></p>
</li>
<li>
<p>Legacy Downloads: <a href="https://github.com/seandepagnier/autopilot_route_pi/releases">Autopilot_route_pi</a></p>
</li>
<li>
<p>Legacy Downloads for Windows: <a href="https://github.com/rgleason/autopilot_route_pi/releases">Autopilot_route_pi for Windows</a></p>
</li>
<li>
<p>Forum: <a href="http://www.cruisersforum.com/forums/f134/autopilot-route-plugin-197566.html">Autopilot_Route_pi Cruisers Forum Thread</a></p>
</li>
<li>
<p>Forum: <a href="http://www.cruisersforum.com/forums/f134/autopilot-control-196347.html">Another CF thread re AP Control</a></p>
</li>
<li>
<p>Video: The autopilot route plugin capable of steering under sail in harbors <a href="https://youtu.be/KQuBwLSMSxI">Pypilot on Princess Mia</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_purpose"><a class="anchor" href="#_purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The autopilot route plugin is capable of steering under sail in harbors. This plugin is used in Sean&#8217;s video of a heavy steel sailboat with a windshield wiper motor driving the wheel and Autopilot_Route_pi
directing the motor: <a href="https://youtu.be/KQuBwLSMSxI" class="bare">https://youtu.be/KQuBwLSMSxI</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pypilot Autopilot is available as a managed plugin (PIM), which is the easiest way to install the plugin. The OpenCPN Manual has general Installation Instructions: <a href="../opencpn-plugins/misc/plugin-install.html" class="xref page">Plugin Download, Install and Enable</a> for installing this plugin. This is the preferred way.</p>
</div>
<div class="paragraph">
<p>In OpenCPN, go to the <em>Options → Plugins</em> and download, install and enable the Autopilot_Route plugin.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modes"><a class="anchor" href="#_modes"></a>Modes</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Route Position Bearing</p>
</li>
<li>
<p>Standard Cross Track XTE -XTE multiplier</p>
</li>
<li>
<p>Waypoint Bearing -by Distance or by Time</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>Options</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Confirm Bearing change on Waypoint Arrival.</p>
</li>
<li>
<p>Intercept Route on Current Course</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It has several other very nice features.</p>
</div>
<div class="paragraph">
<p>Interface Note</p>
</div>
<div class="paragraph">
<p>Keep in mind that this plugin does not have a normal toolbox icon or
menu, it&#8217;s settings are controlled from the preferences menu.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/autopilot_route.png" alt="autopilot route"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_douwe_advises"><a class="anchor" href="#_douwe_advises"></a>Douwe advises:</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>There is a proprietary PGN that allows setting the heading of the
Raymarine EV-1 pilot when it is in auto mode. This is PGN 126208 with a
data length of 14. In canboat format this pgn looks as follows:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-code hljs" data-lang="code">Z,3,126208,7,204,14,01,50,ff,00,f8,03,01,3b,07,03, 04,06,f0,3d</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The last 2 data bytes indicate the heading to be set in thousands of
radials, least significant first (divide by 174.53 to get degrees). So
the above will set a heading of 91 degrees.</p>
</li>
<li>
<p>This is tested with canboat and a Actisense NGT-1 and functions
flawless.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sean_advises"><a class="anchor" href="#_sean_advises"></a>Sean Advises:</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The autopilot route plugin could easily be extended to emit this
message. I cannot really implement it because I have no way of testing
it.</p>
</div>
<div class="sect2">
<h3 id="_ap_windows_connection_via_usb"><a class="anchor" href="#_ap_windows_connection_via_usb"></a>AP Windows Connection via USB</h3>
<div class="paragraph">
<p>NMEA is a serial connection using the RS422 physical layer. While the
'S' in 'USB' does stand for serial it is an entirely different serial
system. You will need a USB-serial converter for your laptop (unless
your laptop has an actual serial port, most newer ones do not). Done
properly you would get a USB-RS422 converter, but most systems will also
work with the more common USB-RS232 connector.</p>
</div>
<div class="paragraph">
<p>You will also need the driver for your operating system and the
converter you select, not all are created equal so make sure your flavor
of operating system is supported. After that the converter will appear
as a 'COM' port in Windows and you configure O to output to that COM
port.</p>
</div>
<div class="paragraph">
<p>There are lots of other options, including adding a WiFi dongle to your
Raymarine that means you don&#8217;t have to use wires, but those get more
complicated.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faq"><a class="anchor" href="#_faq"></a>FAQ</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_how_to_pair_autopilot_route_pi_with_pypilot"><a class="anchor" href="#_how_to_pair_autopilot_route_pi_with_pypilot"></a>How to ‘pair’ Autopilot_Route _pi with Pypilot?</h3>
<div class="paragraph">
<p>Pypilot works well itself. Autopilot_Route works itself and shows the
right overlay but does not direct pypilot in any gps or compass mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_direct_nmea_output_from_autopilot_to_signalk"><a class="anchor" href="#_how_to_direct_nmea_output_from_autopilot_to_signalk"></a>How to direct nmea output from autopilot to signalk?</h3>
<div class="paragraph">
<p>How does one use autopilot with pypilot or pypilot motor controller?</p>
</div>
<div class="paragraph">
<p>The Autopilot_Route Plugin is not specific to Pypilot or any other
autopilot. It replaces the nmea APB output built into opencpn with many
more options for computing how this sentence is generated. It does
output a continuously changing bearing in some modes which is no problem
for Pypilot, but some autopilots might not allow it.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I didn&#8217;t try other autopilots with the route plugin, but apparently
some autopilots require confirmation on bearing change. So the apb must
give the same bearing always and only after xte.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rpi_pypilot_links"><a class="anchor" href="#_rpi_pypilot_links"></a>RPI Pypilot Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Source: <a href="https://github.com/pypilot/">PyPilot Github (Raspberry Pi Autopilot)</a> also same author</p>
</li>
<li>
<p>Manual: <a href="../opencpn-plugins/misc/rpi-setups.html" class="xref page">RPI Pypilot Opencpn</a> Go down to the bottom "Pypilot Autopilot"</p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
  </body>
</html>
